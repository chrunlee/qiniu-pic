/*
	@company 博育云
	@site : www.boyuyun.cn
	@author boyuyun
*/

byy.define("jquery",function(exports){var rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i,rCRLF=/\r?\n/g,rcheckableType=/^(?:checkbox|radio)$/i,localizeName="data-localize",localizeTitle="data-localize-title",doc=document;byy.fn.extend({code:function(a){var b=[],c=a||{};c.elem=this.$ele||$(".byy-code"),c.elem.each(function(){b.push(this)}),b.reverse().forEach(function(a,b){var d=$(a),e=d.html();(d.attr("encode")||byy.isNull(c.encode)||1==c.encode)&&(e=e.replace(/&(?!#?[a-zA-Z0-9]+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")),d.html('<ol class="byy-code-ol"><li>'+e.replace(/[\r\n]+/g,"</li><li>").replace(/[\t]/g,"    ")+"</li></ol>"),d.find(">.byy-code-h3")[0]||d.prepend('<h3 class="byy-code-h3">'+(d.attr("title")||c.title||"code")+"</h3>");var f=d.find(">.byy-code-ol");d.addClass("byy-box byy-code-view"),(d.attr("skin")||c.skin)&&d.addClass("byy-code-"+(d.attr("skin")||c.skin)),(f.find("li").length/100|0)>0&&f.css("margin-left",(f.find("li").length/100|0)+"px"),c.height&&f.css("max-height",c.height)})}}),byy.extend({getLocal:function(a){return byy&&byy.i18n&&byy.i18n.map&&byy.i18n.map[a]?byy.i18n.map[a]:null},renderLocal:function(a,b){byy.device().ie<9&&document.createElement("langbyy"),$(a).find("["+localizeName+"],["+localizeTitle+"]").each(function(){var a=$(this),b=$.i18n.map[a.data("localize")]||"",c=$.i18n.map[a.data("localize-title")]||"",d=null==a.data("format")||void 0==a.data("format")?"":a.data("format")+"",e=(""+d).split(",");b=b.replace(/\{(\d+)\}/g,function(a,b){return e[b]||""}),a.is("input[type=text]")||a.is("input[type=password]")||a.is("input[type=email]")||a.is("textarea")||a.is("select")?(""!=b&&a.attr("placeholder",b),""!=c&&a.attr("title",c)):a.is("input[type=button]")||a.is("input[type=submit]")?(""!=b&&a.attr("value",b),""!=c&&a.attr("title",c)):(""!=b&&("LANGBYY"==a[0].nodeName&&byy.device().ie<9?(a.after("<langbyy>"+b+"</langbyy>"),a.remove()):a.text(b)),""!=c&&a.attr("title",c))}),b&&b()}}),byy.fn.extend({getValues:function(){var a=$(this.selector).find("input,select,textarea,keygen").map(function(){return $(this).get(0)}).filter(function(){var a=this.type;return this.name&&!$(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(a)&&(this.checked||!rcheckableType.test(a))||$(this).hasClass("byy-select-extend")&&"true"!==$(this).attr("select-disabled")}).map(function(a,b){var c;return c=$(this).hasClass("byy-select-extend")?$(this).data("value"):jQuery(this).val(),null==c?null:jQuery.isArray(c)?jQuery.map(c,function(a){return{name:b.name,value:a.replace(rCRLF,"\n")}}):{name:b.name,value:c.replace(rCRLF,"\n")}}).get(),b={};return a.forEach(function(a){var c=a.name,d=a.value;b[c]=c in b?byy.isArray(b[c])?b[c].push(d)&&b[c]:[b[c],d]:d}),b},setValues:function(obj){if(!byy.isEmptyObject(obj)){var thiz=this,map={};thiz.$ele.find("[name]").each(function(){var a=$(this).attr("name");if(a.indexOf(".")>-1){var b=a.split("."),c=function(a,b){var d=b.splice(0,1)[0];return a[d]&&b.length>0?c(a[d],b):a[d]?a[d]:""},d=c(obj,b);map[a]=d}else byy.isNull(obj[a])||(map[a]=obj[a])});for(var name in map){var $target=thiz.$ele.find('[name="'+name+'"]'),eleshow="none"===$target.css("display"),formatter=$target.attr("formatter")||"",ff=""==formatter?function(a){return a}:eval("("+formatter+")");eleshow&&$target.show();var val=map[name];$target.length>0&&$target.each(function(){var a=$(this),b=a[0],c=b.type,d=b.nodeName;if(rcheckableType.test(c)){var e=a.attr("value")||"",f=byy.isArray(val)?val:(val+"").split(",");byy.contains(f,e)&&""!=e?a.prop("checked",!0):a.prop("checked",!1)}else rsubmittable.test(d)?/select/i.test(d)?a.val("string"==typeof val?ff(val.indexOf(",")>-1?val.split(","):val):val):a.val("string"==typeof val?ff(val):val):a.html("string"==typeof val?ff(val):val)}),eleshow&&$target.hide()}thiz.$ele.find(".byy-form-select").length>0&&byy(thiz.$ele.find("select.byy-form-select")).select(),thiz.$ele.find(".byy-form-radio").length>0&&byy(thiz.$ele.find(".byy-form-radio")).radio(),thiz.$ele.find(".byy-form-checkbox").length>0&&byy(thiz.$ele.find(".byy-form-checkbox")).checkbox()}},reset:function(a){byy.isNull(a)&&(a={});var b=this,c={};b.$ele.find("[name]").each(function(){var b=$(this).attr("name");if(b.indexOf(".")>-1){var d=b.split("."),e=function(a,b){var c=b.splice(0,1)[0];return a[c]&&b.length>0?e(a[c],b):a[c]?a[c]:""},f=e(a,d);c[b]=f}else byy.isNull(a[b])?c[b]="":c[b]=a[b]});for(var d in c){var e=b.$ele.find('[name="'+d+'"]'),f="none"===e.css("display");f&&e.show();var g=c[d];if(e.length>1){var h=e[0];rcheckableType.test(h.type)?(g=byy.isArray(g)?","+g.join(",")+",":","+g+",",e.each(function(){g.indexOf(","+$(this).attr("value")+",")>-1?$(this).prop("checked",!0):$(this).prop("checked",!1)})):rsubmittable.test(h.nodeName)?e.val(g):e.attr("value",g)}else 1==e.length&&(rsubmittable.test(e.get(0).nodeName)?e.val(g):e.html(g));f&&e.hide()}b.$ele.find(".byy-form-select").length>0&&byy(b.$ele.find("select.byy-form-select")).select(),b.$ele.find(".byy-form-radio").length>0&&byy(b.$ele.find(".byy-form-radio")).radio(),b.$ele.find(".byy-form-checkbox").length>0&&byy(b.$ele.find(".byy-form-checkbox")).checkbox()},toggleChecked:function(a,b,c){var d=this.$ele,e=(d.attr("class")||"").split(" "),f=e.map(function(d){return d==a?c||b:d==b?c||a:d});d.attr("class",f.join(" "))},getIndex:function(){for(var a=this.$ele,b=0;a.prev().length>0;)a=a.prev(),b++;return b}}),byy.fn.extend({tabEvent:function(){var a=this.$ele;a.on("click",".byy-tab-title>li",function(){var a=$(this),b=a.hasClass(".byy-tab-this"),c=a.parent().parent();if(!b){a.parent().children(".byy-tab-this").removeClass("byy-tab-this"),a.addClass("byy-tab-this");var d=c.children(".byy-tab-content");d.children(".show.byy-tab-item").removeClass("show"),d.children(".byy-tab-item:eq("+a.index()+")").addClass("show")}}),a.off("click",".byy-tab-scroll-left").on("click",".byy-tab-scroll-left",function(){var a=$(this),b=a.parent().parent(),c=b.children(".byy-tab-title"),d=c.children("li"),e=parseInt(c.css("left").replace("px","")),f=c.width(),g=0;d.each(function(){g+=$(this).outerWidth(!0)});var h=f-g;if(!(g-f<=30)){var i=e+f;i=Math.min(0,i),i=Math.max(h,i),c.css("left",i)}}),a.off("click",".byy-tab-scroll-right").on("click",".byy-tab-scroll-right",function(){var a=$(this),b=a.parent().parent(),c=b.children(".byy-tab-title"),d=c.children("li"),e=parseInt(c.css("left").replace("px","")),f=c.width(),g=0;d.each(function(){g+=$(this).outerWidth(!0)});var h=g-f;if(!(g-f<=30)){var i=Math.abs(e-f);i=Math.max(0,i),i=Math.min(h,i);var j=h-i<100?0:100;c.css("left",-1*i+j)}})},tab:function(a){var b=this,c={skin:"",max:1e3,notitle:!1,async:!1,scroll:!1,menu:!0,contents:[{title:"demo",content:"demo content"}]};c=byy.extend(c,a);var d=(""==c.skin?"byy-tab":"brief"==c.skin?"byy-tab byy-tab-brief":"byy-tab byy-tab-card")+(!0===c.notitle?" notitle ":""),e="height"in c?c.height:"",f=c.scroll?" byy-tab-scroll ":"",g=c.scroll?'<div class="byy-tab-scroll-tool"><span class="byy-tab-scroll-left"><i class="byyicon icon-arrow-double-left"></i></span><span class="byy-tab-scroll-right"><i class="byyicon icon-arrow-double-right"></i></span></div>':"",h=b.$ele,i=b.selector;h.data("obj",c),function(h){function j(){$("body").find(".byy-tab-menu").length>0&&$("body").find(".byy-tab-menu").remove()}function k(a,b){var c=a.pageX,d=a.pageY;$("body").find(".byy-tab-menu").remove();var e=$('<div class="byy-tab-menu" style="position:absolute;left:'+c+"px;top:"+d+'px;"><ul class="byy-anim byy-anim-upbit"><li type="3">'+byy.lang.tab.refresh+'</li><li type="0">'+byy.lang.tab.close+'</li><li type="1">'+byy.lang.tab.others+'</li><li type="2">'+byy.lang.tab.all+"</li></ul></div>");e.data("obj",{item:b.data("obj"),el:b}),$("body").append(e),$(doc).off("click",j).on("click",j)}h.html("").append('<div class="'+d+f+'" style="'+(""==e?"":"height:"+e+"px;")+'">'+g+'<ul class="byy-tab-title"></ul><div class="byy-tab-content" style="'+(""==e?"":"height:"+(e-40)+"px;")+'"></div></div>'),c.contents.forEach(function(a,b){a.index=b,byy(i).addTab(a),c.onadd&&c.onadd(a)}),0!=h.find(".byy-tab-content>.byy-tab-item.show").length&&0!=h.find(".byy-tab-this").length||(h.find(".byy-tab-title>li:first").addClass("byy-tab-this"),h.find(".byy-tab-content>.byy-tab-item:first").addClass("show")),$(i).off("click",".byy-tab-title>li").on("click",".byy-tab-title>li",function(){var a=$(this),b=a.data("obj");a.hasClass(".byy-tab-this")||byy(i).toggleTab(b.index),c.onClick&&c.onclick(b)}),$(i).off("click",".byy-tab-close").on("click",".byy-tab-close",function(b){var c=$(this).parent().data("obj"),d=c.index;if(byy(i).deleteTab(d),byy.stope(b),byy(i).fixTabIndex(),a.onClose){var e=byy(i).getNowTab();a.onclose(e)}}),$(i).off("click",".byy-tab-scroll-left").on("click",".byy-tab-scroll-left",function(){var a=$(this),b=a.parent().parent(),c=b.children(".byy-tab-title"),d=c.children("li"),e=parseInt(c.css("left").replace("px","")),f=c.width(),g=0;d.each(function(){g+=$(this).outerWidth(!0)});var h=f-g;if(!(g-f<=30)){var i=e+f;i=Math.min(0,i),i=Math.max(h,i),c.css("left",i)}}),$(i).off("click",".byy-tab-scroll-right").on("click",".byy-tab-scroll-right",function(){var a=$(this),b=a.parent().parent(),c=b.children(".byy-tab-title"),d=c.children("li"),e=parseInt(c.css("left").replace("px","")),f=c.width(),g=0;d.each(function(){g+=$(this).outerWidth(!0)});var h=g-f;if(!(g-f<=30)){var i=Math.abs(e-f);i=Math.max(0,i),i=Math.min(h,i);var j=h-i<100?0:100;c.css("left",-1*i+j)}}),$(i).off("mouseup",".byy-tab-title li").on("mouseup",".byy-tab-title li",function(a){if(a=a||window.event,3===a.which)return $(this).get(0).oncontextmenu||($(this).get(0).oncontextmenu=function(a){return c.menu&&k(a,$(this)),!1}),$("body").off("click",".byy-tab-menu li").on("click",".byy-tab-menu li",function(){var a=$(this),b=a.closest(".byy-tab-menu"),c=b.data("obj"),d=c.el.closest(".byy-tab");switch(a.attr("type")){case"0":byy(d).deleteTab(c.item.index);break;case"1":d.find(".byy-tab-title>li").each(function(){var a=$(this),b=a.data("obj").index;b!=c.item.index&&byy(d).deleteTab(b)});break;case"2":d.find(".byy-tab-title>li").each(function(){var a=$(this),b=a.data("obj").index;byy(d).deleteTab(b)});break;case"3":var e=d.find(".byy-tab-item").eq(c.item.index);e.find("iframe").length>0&&e.find("iframe").attr("src",c.item.url)}}),byy.stope(a),!1}),b.hideTabMore(!0),b.tabAuto()}(h)},hideTabMore:function(a){var b=$(".byy-tab-title");!0!==a&&"tabmore"===$(a.target).attr("byy-stope")||(b.removeClass("byy-tab-more"),b.find(".byy-tab-bar").attr("title",""))},tabAuto:function(){var a="byy-tab-bar",b=this,c=b.$ele,d=c.data("obj");$(".byy-tab").each(function(){var c=$(this),e=c.children(".byy-tab-title"),f=(c.children(".byy-tab-content").children(".byy-tab-item"),'byy-stope="tabmore"'),g=$('<span class="byy-unselect byy-tab-bar" '+f+"><i "+f+' class="byyicon icon-arrow-down"></i></span>');if(b===window&&8!=device.ie&&thiz.hideTabMore(!0),c.attr("byy-allowClose")&&e.find("li").each(function(){var a=$(this);if(!a.find(".byy-tab-close")[0]){var b=$('<i class="byyicon icon-close byy-unselect byy-tab-close"></i>');b.on("click",call.tabDelete),a.append(b)}}),e.prop("scrollWidth")>e.outerWidth()+1&&!d.scroll){if(e.find("."+a)[0])return;e.append(g),c.attr("overflow",""),g.on("click",function(a){e[this.title?"removeClass":"addClass"]("byy-tab-more"),this.title=this.title?"":"收缩"})}else e.find("."+a).remove(),c.removeAttr("overflow")})},getNowTab:function(){return this.$ele.find(".byy-tab-this").data("obj")||{}},addTab:function(a,b){var c=this,d=this.$ele,e=d.data("obj"),f=e.max||10,g=(e.notitle,e.async),h=this.selector,i=d.find(".byy-tab-title"),j=d.find(".byy-tab-content"),k=a.title||"标题",l=!1,m=0;if(i.find("li").each(function(){var a=$(this).data("obj");(a.title||"标题")==k&&(l=!0,m=a.index)}),l)return byy(h).toggleTab(m),this;var n="close"in a&&!0===a.close,o=$("<li></li");a.async=g,o.html(k),n&&o.append('<i class="byyicon byy-unselect icon-close byy-tab-close"></i>');var p=!1,q=i.find("li").length;!byy.isNull(b)&&byy.isNumeric(b)&&(b>q||b<0||b==q?(b=q,a.index=b):(p=!0,a.index=b)),byy.isNull(a.index)&&(a.index=q),o.data("obj",a);var r="";return r=a.url&&""!=a.url?'<div class="byy-tab-item"><iframe src="'+(g?"":a.url)+'" '+(a.name?'name="'+a.name+'"':"")+(a.id?'id="'+a.id+'"':"")+' style="border:none;width:100%;height:100%;" ></iframe></div>':'<div class="byy-tab-item">'+a.content+"</div>",p?(i.find("li:eq("+b+")").before(o),j.find(".byy-tab-item:eq("+b+")").before(r)):(i.append(o),j.append(r)),byy(h).fixTabIndex(),q>f-1&&byy(h).deleteTab(0),0==d.find(".byy-tab-this").length?byy(h).toggleTab(d.find("li").length-1):g||byy(h).toggleTab(a.index),c.hideTabMore(!0),c.tabAuto(),this},fixTabIndex:function(){return this.$ele.find("li").each(function(a,b){var c=$(this).data("obj");c.index=a,$(this).data("obj",c)}),this},deleteTab:function(a){var b=this.$ele;return b.find(".byy-tab-title").find("li:eq("+a+")").remove(),b.find(".byy-tab-content").find(".byy-tab-item:eq("+a+")").remove(),0==b.find(".byy-tab-this").length&&b.find("li").length>0&&byy(b).toggleTab(0==a?0:a-1),byy(b).fixTabIndex(),this},toggleTab:function(a){var b=this.$ele,c=b.find(".byy-tab:first"),d=b.data("obj");b.find(".byy-tab-title:first").children(".byy-tab-this").removeClass("byy-tab-this"),b.find(".byy-tab-content:first").children(".show").removeClass("show");var e=b.find(".byy-tab-title:first>li:eq("+a+")"),f=e.data("obj"),g=(f.async,f.url),h=!!f.hasload;e.addClass("byy-tab-this");var i=b.find(".byy-tab-content:first>div:eq("+a+")");if(i.addClass("show"),!h&&i.children("iframe").length>0&&!i.children("iframe").attr("src")&&(i.children("iframe").attr("src",g),f.hasload=!0,e.data("obj",f)),d&&d.scroll){var j=c.children(".byy-tab-title"),e=j.children("li"),k=j.width(),l=0;e.each(function(b){b<=a&&(l+=$(this).outerWidth(!0))});var m=l-k>0?-1*(l-k):0;j.css("left",m)}return this}}),byy.fn.extend({radioVal:function(){if(arguments.length>0){var a=[].slice.call(arguments)[0],b=this.$ele;return b.each(function(){$(this).val()!=a?$(this).prop("checked",!1):$(this).prop("checked",!0)}),void byy(b).radio()}var b=this.$ele,c={};if(b.each(function(){var a=$(this);if(a.prop("checked")&&a.attr("name")){var b=a.attr("name"),d=a.attr("value");b in c?c[b]instanceof Array?c[b].push(d):c[b]=[c[b],d]:c[b]=d}}),1==byy.getObjectLength(c)){var d;for(var e in c)d=c[e];return d}return 0==byy.getObjectLength(c)?null:c},radio:function(){var a="byy-form-radio",b=["icon-radio","icon-radio-checked"],c=function(c){var d=$(this),e="byy-anim-scaleSpring";c.on("click",function(){var f=d[0].name,g=d.parents(),h=g.find('input[name="'+f.replace(/(\.|#|\[|\])/g,"\\$1")+'"]');d[0].disabled||($.each(h,function(){var c=$(this).next("."+a);this.checked=!1,c.removeClass(a+"ed"),c.find(".byyicon").removeClass(e).removeClass(b[1]).addClass(b[0])}),d[0].checked=!0,c.addClass(a+"ed"),c.find(".byyicon").addClass(e).removeClass(b[0]).addClass(b[1]),d.triggerHandler("click"))})};this.$ele.each(function(d,e){var f=$(this),g=f.next("."+a),h=this.disabled,i=f.attr(localizeName)||"",j=byy.getLocal(i)||e.title||byy.lang.radio.title,k=$(['<div class="byy-unselect '+a+(e.checked?" "+a+"ed":"")+(h?" byy-radio-disabled ":"")+'">','<i class="byy-anim byyicon '+b[e.checked?1:0]+' "></i>',"<span "+($(e).attr(localizeName)?localizeName+'="'+$(e).attr(localizeName)+'"':"")+">"+j+"</span>","</div>"].join(""));g[0]&&g.remove(),f.after(k),c.call(this,k)})},checkboxVal:function(){if(arguments.length>0){var a=this.$ele,b=[].slice.call(arguments),c=[];return $.each(b,function(a,b){if("string"==typeof b){var d=b.split(",");c=c.concat(d)}else byy.isArray(b)&&(c=c.concat(b))}),a.each(function(){for(var a=$(this).val(),b=!1,d=0;d<c.length;d++){var e=c[d];if(a==e||a==e.toString()){b=!0;break}}$(this).prop("checked",b)}),void byy(a).checkbox()}var a=this.$ele,d={};if(a.each(function(){var a=$(this),b=a.prop("checked"),c=a.attr("name"),e=a.attr("value");b&&c&&(c in d?d[c]instanceof Array?d[c].push(e):d[c]=[d[c],e]:d[c]=e)}),0==byy.getObjectLength(d))return null;if(1==byy.getObjectLength(d)){var e;for(var f in d)e=d[f];return e}return d},checkbox:function(){var a={checkbox:["byy-form-checkbox","byy-form-checked","checkbox"],_switch:["byy-form-switch","byy-form-onswitch","switch"],_primary:["byy-form-checkbox-primary","byy-form-checked","primary","icon-checkbox","icon-checkbox-checked"]},b=function(a,b){var c=$(this);a.on("click",function(){c[0].disabled||(c.prop("checked")?(c.prop("checked",!1),a.removeClass(b[1]),a.hasClass(b[0])&&a.find(".byyicon").removeClass(b[4]).addClass(b[3])):(c.prop("checked",!0),a.addClass(b[1]),a.hasClass(b[0])&&a.find(".byyicon").removeClass(b[3]).addClass(b[4])),c.triggerHandler("click"))})};this.$ele.each(function(c,d){var e=$(this),f=e.attr("byy-skin"),g=this.disabled,h=e.attr(localizeName)||"",i=h.indexOf(",")>-1,j=h.split(","),k=byy.getLocal(j[0])||e.attr("byy-before")||byy.lang.checkbox.before,l=i?byy.getLocal(j[j.length-1])||e.attr("byy-after")||byy.lang.checkbox.after:e.attr("byy-after")||byy.lang.checkbox.after,m=byy.getLocal(j[0])||e.attr("title")||byy.lang.checkbox.title;"switch"===f&&(f="_"+f),"primary"===f&&(f="_"+f);var n=a[f]||a.checkbox,o=e.next("."+n[0]),p=$(['<div class="byy-unselect '+n[0]+(d.checked?" "+n[1]:"")+(g?" byy-checkbox-disabled ":"")+'">',{_switch:'<span class="first" '+(""!=j[0]?localizeName+'="'+j[0]+'"':"")+">"+k+'</span><i></i><span class="last" '+(j.length>1&&""!=j[1]?localizeName+'="'+j[1]+'"':"")+">"+l+"</span>",_primary:"<span "+(""!=j[0]?localizeName+'="'+j[0]+'"':"")+">"+m+'</span><i class="byyicon '+n[d.checked?4:3]+'"></i>'}[f]||"<span "+(""!=j[0]?localizeName+'="'+j[0]+'"':"")+">"+m+'</span><i class="byyicon icon-correct"></i>',"</div>"].join(""));o[0]&&o.remove(),e.after(p),b.call(this,p,n)})},selectVal:function(){var a=[].slice.call(arguments),b=this.$ele;if(a.length>0){for(var c=[],d=0;d<a.length;d++){var e=a[d];""!=e&&("string"==typeof e&&e.indexOf(",")<0||"number"==typeof e?c.push(e.toString()):"string"==typeof e&&e.indexOf(",")>-1?c=c.concat(e.split(",")):byy.isArray(e)&&(c=c.concat(e)))}return b.each(function(){var a=$(this),b=a[0],d=(a.attr("multi"),parseInt(a.attr("size")||"0")),e=b.options,f=0;$.each(e,function(a,b){var e=!1,g=b.value;if(b.disabled)return!0;for(var h=0;h<c.length;h++)if(g===c[h]){e=!0;break}if(d>0&&f>=d)return!0;b.selected=e,e&&f++})}),void byy(b).select()}return b.val()},select:function(){var a=byy.lang.select.tip||"请选择",b="byy-form-select",c="byy-select-title",d=this.$ele,e=function(a,d){$(a.target).parents(".byy-form-select").attr("multiple")?($(a.target).parent().parent().parent().hasClass("byy-form-select")||$(a.target).parent().parent().hasClass("byy-form-select")||$(a.target).parent().hasClass("byy-form-select")||$(a.target).parent().hasClass(c))&&!d||$("."+b).removeClass(b+"ed"):$(a.target).parent().hasClass(c)&&!d||$("."+b).removeClass(b+"ed")},f=function(a,d){var f=$(this),g=a.find("."+c),h=!!f.attr("multiple"),i=parseInt(f.attr("size")||"0",10);d||(f.attr("canInput")&&a.find("input").on("keyup",function(b){var c=$(this).val(),d=a.find("dd");if(""==byy.trim(c))d.show();else{var e=0;d.each(function(a,b){$(this).html().toLowerCase().indexOf(c.toLowerCase())>-1?(e++,$(this).show()):$(this).hide()}),e<1?(a.find("dl").find(".empty").remove(),a.find("dl").prepend('<p class="empty">'+byy.lang.select.nosearch+"</p>")):a.find("dl .empty").remove()}}),g.on("click",function(c){a.hasClass(b+"ed")?a.removeClass(b+"ed"):(e(c,!0),a.addClass(b+"ed"),a.find("dl dd").each(function(){$(this).show()}))}),a.find("dl>dd").off("click").on("click",function(){var b=$(this),c=b.attr("byy-value");if(f.attr("byy-filter"),b.hasClass("byy-disabled"))return!1;if(h){var d=f.val(),e=null==d?[]:"string"==typeof d?d.split(","):d;if(b.hasClass("byy-select-this"))b.removeClass("byy-select-this"),byy.remove(e,c),b.find(".byyicon").removeClass("icon-checkbox-checked").addClass("icon-checkbox"),a.find(".select-all.checked").length>0&&a.find(".select-all.checked").removeClass("checked"),0==e.length&&a.find(".select-all").find("i").removeClass("icon-checkbox-checked").addClass("icon-checkbox");else{if(i>0&&e.length+1>i)return void(0==a.find(".maxlimit").length&&(b.after('<p class="maxlimit">'+byy.formatStr(byy.lang.select.maxlimit,i)+"</p>"),setTimeout(function(){a.find(".maxlimit").remove()},500)));b.addClass("byy-select-this"),e.push(c),b.find(".byyicon").removeClass("icon-checkbox").addClass("icon-checkbox-checked");for(var j=!0,k=f[0].options,l=0;l<k.length;l++){var m=k[l].value;if(""!=byy.trim(m)&&!byy.contains(e,m)){j=!1;break}}j&&(a.find(".select-all").removeClass("checked").addClass("checked"),a.find(".byyicon").removeClass("icon-checkbox").addClass("icon-checkbox-checked"))}f.val(e);var n=b.parent().find(".byy-select-this").filter(function(){return""!=$(this).attr("byy-value")}).map(function(){return $(this).text()}).get();g.find("input").val(n.join(",")).attr("title",n.join(","))}else f.val(c).removeClass("byy-form-danger"),g.find("input").val(b.text()),b.addClass("byy-select-this").siblings().removeClass("byy-select-this");f.triggerHandler("change")}),a.find(".select-all").off("click").on("click",function(b){var c=$(this);if(c.hasClass("checked")){for(var d=f[0].options,e=0;e<d.length;e++)d[e].selected=!1;g.find("input").val("").attr("title",""),a.find("dl dd.byy-select-this:not(.byy-disabled)").each(function(){$(this).removeClass("byy-select-this"),$(this).find("i.icon-checkbox-checked").removeClass("icon-checkbox-checked").addClass("icon-checkbox")}),c.removeClass("checked"),c.find("i.icon-checkbox-checked").removeClass("icon-checkbox-checked").addClass("icon-checkbox")}else{var h=[],j=[];a.find("dl dd:not(.byy-disabled)").each(function(a,b){if(!(i>0&&a+1>i)){$(this).addClass("byy-select-this");var c=$(this).attr("byy-value"),d=$(this).text();""!=byy.trim(c)&&(h.push(c),j.push(d),$(this).find("i.icon-checkbox").removeClass("icon-checkbox").addClass("icon-checkbox-checked"))}}),f.val(h),g.find("input").val(j.join(",")).attr("title",j.join(",")),c.addClass("checked"),c.find("i.icon-checkbox").addClass("icon-checkbox-checked").removeClass("icon-checkbox")}f.triggerHandler("change")}),a.find("dl>dt").off("click").on("click",function(a){return!1}),$(document).off("click",e).on("click",e))};d.each(function(d,e){for(var g=$(this),h=g.next("."+b),i=!!g.attr("disabled"),j=!!g.attr("multiple"),k=g.attr("placeholder"),l=[],m=[],n=0;n<e.options.length;n++){var o=e.options[n],p=o.selected,q=o.value,r=$(o).text();p&&(l.push(q),m.push(r))}m=m.join(",");var s=!!g.attr("canInput"),t="";if(g.css("width")){var u=g.outerWidth(),v=g.css("min-width")||"0px";v=parseInt(v.replace("px",""),10),t=' style="width:'+(u>v?u:v)+'px;" '}var w=$(["<div "+t+' class="byy-unselect '+b+(i?" byy-select-disabled":"")+(j?" multi":"")+'" '+(j?'multiple="true"':"")+">",'<div class="'+c+'"><input type="text" placeholder="'+(null!=k&&void 0!=k?k:e.options.length>0&&e.options[0].innerHTML?e.options[0].innerHTML:a)+'" value="'+(m||"")+'" '+(s?"":"readonly")+' class="byy-input byy-form-input byy-unselect'+(i?" byy-select-disabled":"")+'">','<i class="byy-edge"></i></div>','<dl class="byy-anim byy-anim-upbit'+(g.find("optgroup")[0]?" byy-select-group":"")+'">'+(j?'<p class="select-all"><i class="byyicon icon-checkbox"></i>'+byy.lang.select.selectall+"</p>":"")+function(a){var b=[];return $.each(a,function(a,c){if(!j||0!==a||c.value)if("optgroup"===c.tagName.toLowerCase())b.push("<dt "+($(c).attr(localizeName)?localizeName+'="'+$(c).attr(localizeName)+'"':"")+">"+c.label+"</dt>");else{var d=$(c).attr("title"),e=$(c).attr(localizeTitle);b.push("<dd  "+(d?' title="'+d+'" ':"")+(e?" "+localizeTitle+'="'+e+'" ':"")+' byy-value="'+c.value+'" class="'+(byy.contains(l,c.value)?"byy-select-this":"")+(c.disabled?" byy-disabled":"")+'">'+(j?'<i class="byyicon '+(byy.contains(l,c.value)?"icon-checkbox-checked":"icon-checkbox")+'"></i>':"")+"<span "+($(c).attr(localizeName)?localizeName+'="'+$(c).attr(localizeName)+'"':"")+($(c).data("format")?" data-format="+$(c).data("format"):" ")+">"+($(c).attr("icon")?'<i class="'+$(c).attr("icon")+'"></i>':"")+c.innerHTML+"</span></dd>")}}),b.join("")}(g.find("*"))+"</dl>","</div>"].join(""));h[0]&&h.remove(),g.after(w),f.call(this,w,i)})},nav:function(){var a,b,c="byy-nav-tree",d="byy-nav-child",e="byy-nav-more",f=byy.device(),g={clickThis:function(){var a=$(this),b=a.parents(".byy-nav");a.find("."+d)[0]||(b.find(".byy-this").removeClass("byy-this"),a.addClass("byy-this"))},clickChild:function(){var a=$(this);a.parents(".byy-nav").find(".byy-this").removeClass("byy-this"),a.addClass("byy-this")},showChild:function(){var a=$(this),b=a.parents(".byy-nav"),e=a.parent(),f=a.siblings("."+d);b.hasClass(c)&&(f.removeClass("byy-anim byy-anim-upbit"),e["none"===f.css("display")?"addClass":"removeClass"]("byy-nav-itemed"))}},h=function(g,h){var i=$(this),j=i.find("."+d);h.hasClass(c)?g.css({top:i.position().top,height:i.children("a").height(),opacity:1}):(j.addClass("byy-anim byy-anim-upbit"),g.css({left:i.position().left+parseFloat(i.css("marginLeft")),top:i.position().top+i.height()-5}),a=setTimeout(function(){g.css({width:i.width(),opacity:1})},f.ie&&f.ie<10?0:200),clearTimeout(void 0),"block"===j.css("display")&&clearTimeout(b),b=setTimeout(function(){j.addClass("show"),i.find("."+e).addClass(e+"d")},300))},i=function(a){var b=$(this);if(b.parent().hasClass("collapse")){var c=b.offset().top,e=b.children("."+d);e.length>0&&e.css({top:c,display:"inline-block"})}};$(".byy-nav").each(function(){var f=$(this),g=$('<span class="byy-nav-bar"></span>'),j=f.find(".byy-nav-item");if(f.parents(".byy-side").length>0){var k=$("<span></span>").addClass("byy-nav-mobile").append('<i class="byyicon icon-arrow-right"></i>');f.append(k),$("body").append('<div class="mobile-modal"></div>'),k.on("click",function(){$(".byy-side").addClass("mobile-side"),$(".byy-nav-mobile").hide(),$(".mobile-modal").addClass("show")}),$("body").on("click",".mobile-modal",function(){$(".byy-nav-mobile").show(),$(".byy-side").removeClass("mobile-side"),$(".mobile-modal").removeClass("show")})}f.find(".byy-nav-bar")[0]||(f.append(g),j.on("mouseenter",function(){h.call(this,g,f)}).on("mouseleave",function(){f.hasClass(c)||(clearTimeout(b),b=setTimeout(function(){f.find("."+d).removeClass("show"),f.find("."+e).removeClass(e+"d")},300))}),f.on("mouseleave",function(){clearTimeout(a),setTimeout(function(){f.hasClass(c)?g.css({height:0,top:g.position().top+g.height()/2,opacity:0}):g.css({width:0,left:g.position().left+g.width()/2,opacity:0})},200)})),f.hasClass(c)&&j.on("mouseenter",function(){i.call(this,f)}).on("mouseleave",function(){$(this).children(".byy-nav-child").attr("style","")})}),$(".byy-nav").each(function(){var a=$(this);$('<span class="byy-nav-bar"></span>'),a.find(".byy-nav-item").each(function(){var a=$(this),b=a.find("."+d);b[0]&&!a.find("."+e)[0]&&a.children("a").append('<span class="byy-nav-more"></span>'),a.off("click",g.clickThis).on("click",g.clickThis),a.children("a").off("click",g.showChild).on("click",g.showChild),b.children("li").off("click",g.clickChild).on("click",g.clickChild)})})},breadcrumb:function(){var a=this.$ele;$(a).each(function(){var a=$(this),b=a.attr("separator")||">",c=a.find("a");c.find(".byy-box")[0]||(c.each(function(a){a!==c.length-1&&$(this).append('<span class="byy-box">'+b+"</span>")}),a.css("visibility","visible"))})},buttonmenu:function(){var a=this.$ele;a.find("ul").addClass("byy-anim").addClass("byy-anim-upbit");var b=a.css("width");a.find("ul").css("min-width",b)}}),byy.fn.extend({progress:function(a){var b=this.$ele;b.find(".byy-progress-bar").each(function(){var c=$(this);if(c.css("width",a?"string"==typeof a?a:a.width||"0%":c.attr("percent")),a&&a.text){var d=a.text;if(b.find(".byy-progress-text").length>0)b.find(".byy-progress-text").html(d);else{var e='<span class="byy-progress-text">'+d+"</span>";b.find(".byy-progress-bar").append(e)}}})},createProgress:function(a){a=a||{radius:!1,width:"0%",size:""};var b='<div class="byy-progress '+(a.radius?"radius":"")+" "+(a.size||"")+'" '+(a.id?'id="'+a.id+'"':"")+'><div class="byy-progress-bar" percent="'+(a.width||"0%")+'">'+(a.text?'<span class="byy-progress-text">'+a.text+"</span>":"")+"</div></div>",c=this.$ele;c.html(b),c.find(".byy-progress-bar").animate({width:a.width||"0%"},300)},getProgress:function(){return this.$ele.find(".byy-progress-bar").map(function(){return $(this).attr("percent")}).get()}}),byy.fn.extend({list:function(){var a=this.$ele,b=a.hasClass("list-panel")?a:a.find(".list-panel").length>0?a.find(".list-panel"):a.parents(".list-panel");if(null!=b&&0!=b.length){b.each(function(){var b=$(this),c=b.attr("byy-expand")||!1,d=(b.attr("byy-more"),b.find(".byy-panel-search")),e=(b.find(".byy-panel-title"),d.find(".byy-panel-search-block")),f=d.find(".byy-btn-group"),g=b.width(),h=b.find(".byy-panel-search-tag");if(e.length>0){var i=190,j=!1,k=!1;e.each(function(){$(this).removeClass("hide"),$(this).removeAttr("mored");var a=$(this),b=a.width(),c=a.css("margin-right")?a.css("margin-right"):"0px",d=parseInt(c.replace("px",""),10),e=b+d;i+e>=g?k=!0:j||(i+=e)}),k&&(i=305,e.each(function(){$(this).removeClass("hide"),$(this).removeAttr("mored");var a=$(this),b=a.width(),c=a.css("margin-right")?a.css("margin-right"):"0px",d=parseInt(c.replace("px",""),10),e=b+d;i+e>=g||j?(j=!0,a.addClass("hide"),a.attr("mored",!0)):j||(i+=e)})),j?(d.css("padding-right",285),0==b.find(".list-panel-hsearch").length&&f.append('<span class="byy-btn small cancel list-panel-hsearch"><i class="fa fa-angle-double-down"></i>'+byy.lang.list.hsearch+"</span>")):(d.css("padding-right",170),b.find(".list-panel-hsearch").remove()),"true"==c||1==c?$(".byy-panel-search-block[mored=true]").removeClass("hide"):$(".byy-panel-search-block[mored=true]").addClass("hide"),f.css("left",i-(j?285:170)-10)}else f.hide();if(h.length>0){var l=a.hasClass("byy-block")?a:a.find(".byy-block"),m=$('<span class="tag-more byy-unselect">'+byy.lang.list.more+'<i class="byyicon icon-arrow-down"></i></span>');l.each(function(){var a=$(this),b=a.find(".search-tag-block"),c=!1,d=0;b.each(function(){var a=void 0===$(this).offset().top?0:Math.floor($(this).offset().top);return c=0!=d&&Math.abs(d-a)>2,d=$(this).offset().top,!c}),a.find(".tag-more").remove(),c&&(a.append(m.clone()),a.addClass("byy-block-collapse"))})}});var c={SEARCHCLICK:function(){var a=$(this),b=a.parents(".byy-panel-search"),c=b.attr("byy-expand");"true"==c||1==c?(b.attr("byy-expand",!1),$(".byy-panel-search-block[mored=true]").addClass("hide"),a.find(".fa").css({transform:"rotate(0deg)"})):(b.attr("byy-expand",!0),$(".byy-panel-search-block[mored=true]").removeClass("hide"),a.find(".fa").css({transform:"rotate(180deg)"}))},COLLAPSE:function(a){var b=$(a.target||a.srcElement);b=b.hasClass("tag-more")?b:b.parent(),b.parent().toggleClass("byy-block-collapse");var c=b.find(".byyicon");c.hasClass("icon-arrow-down")?c.removeClass("icon-arrow-down").addClass("icon-arrow-up"):c.removeClass("icon-arrow-up").addClass("icon-arrow-down")}};b.off("click",".list-panel-hsearch").on("click",".list-panel-hsearch",c.SEARCHCLICK),b.off("click",".tag-more").on("click",".tag-more",c.COLLAPSE)}}}),byy.fn.extend({slide:function(a){var b={direction:"left",duration:.6,easing:"swing",delay:3,startIndex:0,hideClickBar:!0,clickBarRadius:5,hideBottomBar:!1},c=$.extend(b,a||{}),d=this.$ele,e=d.children("ul.items"),f=e.find("li"),g=f.first().find("img"),h=f.first().find(".bgp"),i=f.size(),j=0,k=0,l=function(){if(!d.size())return!1;if(d.data("over",0),j=c.height?c.height:f.first().height(),k=c.width?c.width:f.first().width(),c.wrapperWidth?d.css({height:j+"px"}):d.css({width:k+"px",height:j+"px"}),f.css({width:k+"px",height:j+"px"}),e.append(e.find("li:first").clone()),i+=1,"left"==c.direction?e.css("width",i*k+"px"):e.css("height",i*j+"px"),e.find("li:eq("+c.startIndex+")").addClass("active"),!c.hideBottomBar){
var a=$('<div class="tips"></div>').css("opacity",.7).appendTo(d),b=($('<div class="title"></div>').html(function(){var a=e.find("li.active").find("a"),b=a.attr("title"),c=a.attr("href");return $("<a>").attr("href",c).text(b)}).appendTo(a),$('<div class="nums"></div>').hide().appendTo(a));f.each(function(a,f){var g=$(f).find("a"),h=g.attr("title"),i=g.attr("href"),j="";a==c.startIndex&&(j="active"),$("<a>").attr("href",i).text(h).addClass(j).css("borderRadius",c.clickBarRadius+"px").mouseover(function(){d.data("over",1),$(this).addClass("active").siblings().removeClass("active"),e.find("li:eq("+$(this).index()+")").addClass("active").siblings().removeClass("active"),m()}).appendTo(b)}),c.hideClickBar?(a.hover(function(){b.animate({top:"0px"},"fast")},function(){b.animate({top:a.height()+"px"},"fast")}),b.show().delay(2e3).animate({top:a.height()+"px"},"fast")):b.show()}f.size()>1&&m()},m=function(){var a,b,f=e.find("li.active"),g=f.find("a"),h=f.index();"left"==c.direction?(a=h*k*-1,b={left:a+"px"}):(a=h*j*-1,b={top:a+"px"}),d.find(".nums").find("a:eq("+h+")").addClass("active").siblings().removeClass("active"),d.find(".title").find("a").attr("href",g.attr("href")).text(g.attr("title"));var i=["linear","swing"];e.stop().animate(b,1e3*c.duration,"random"==c.easing?i[Math.floor(Math.random()*i.length)]:c.easing,function(){f.removeClass("active"),0==f.next().size()?(e.css({top:0,left:0}).find("li:eq(1)").addClass("active"),d.find(".nums").find("a:first").addClass("active").siblings().removeClass("active")):f.next().addClass("active"),0==d.data("over")&&d.data("timeid",window.setTimeout(m,1e3*c.delay))})},n=new Image;n.onload=function(){n.onload=null,l()};var o="";if(void 0!=h&&void 0!=h.css("background-image")){var o=h.css("background-image");o=o.indexOf('"http')>=0?o.substring(o.indexOf("(")+2,o.length-2):o.substring(o.indexOf("(")+1,o.length-1)}n.src=g.attr("src")||o}});var initUI=function(a){a=a||$("body"),a.find("pre.byy-code").length>0&&byy(a.find("pre.byy-code")).code(),a.find("input.byy-form-radio").length>0&&byy(a.find("input.byy-form-radio")).radio(),a.find("input.byy-form-checkbox").length>0&&byy(a.find("input.byy-form-checkbox")).checkbox(),a.find("select.byy-form-select").length>0&&byy(a.find("select.byy-form-select")).select(),a.find(".byy-nav").length>0&&byy(a.find(".byy-nav")).nav(),a.find(".byy-breadcrumb").length>0&&byy(a.find(".byy-breadcrumb")).breadcrumb(),a.find(".byy-btn-menu").length>0&&byy(a.find(".byy-btn-menu")).buttonmenu(),a.find(".byy-progress").length>0&&byy(a.find(".byy-progress")).progress(),a.find(".byy-tab").length>0&&byy(a.find(".byy-tab")).tabEvent(),a.find(".list-panel").length>0&&setTimeout(function(){byy(a.find(".list-panel")).list()},20)};byy.extend({initUI:function(){initUI()}}),byy.fn.extend({initUI:function(){var a=this.$ele;initUI(a)}}),exports("form",{version:"1.0",msg:"form元素初始化"})});