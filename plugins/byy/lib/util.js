/*
	@company 博育云
	@site : www.boyuyun.cn
	@author boyuyun
*/

byy.define(function(a){var b={},c=window,d=document;byy.extend({contains:function(a,b){return a.indexOf(b)>-1},removeAt:function(a,b){return!!a.splice(b,1).length},remove:function(a,b){var c=a.indexOf(b);return c>-1&&byy.removeAt(a,c)},shuffle:function(a){var b,c,d;for(d=a.length;d>0;)c=parseInt(Math.random()*d),b=a[--d],a[d]=a[c],a[c]=b;return a},random:function(a){return a[parseInt(Math.random()*a.length)]},flatten:function(a){var b=[];return a.forEach(function(a,c){Array.isArray(a)?b=b.concat(byy.flatten(a)):b.push(a)}),b},unique:function(a){var b=[];a:for(var c=0,d=a.length;c<d;c++){for(var e=c+1;e<d;e++)if(a[e]===a[c])continue a;b.push(a[c])}return b},compact:function(a,b){return b=b||!1,a.filter(function(a){return!(byy.isNull(a)||(b?""===byy.trim(a+""):a+""==""))})},pluck:function(a,b,c){var d,e=[];return a.forEach(function(a){d=a[b],null!=d?e.push(d):!0===c&&e.push(d)}),e},union:function(){for(var a=arguments.length,b=[],c=0;c<a;c++)b=b.concat(arguments[c]);return byy.unique(b)},min:function(a){return Math.min.apply(0,a)},max:function(a){return Math.max.apply(0,a)}}),byy.extend({isNull:function(a){return null==a||void 0==a},isEmpty:function(a){return null==a||void 0==a||""==a},isArray:function(a){return $.isArray(a)},isFunction:function(a){return $.isFunction(a)},isEmptyObject:function(a){return $.isEmptyObject(a)},isPlainObject:function(a){return $.isPlainObject(a)},isWindow:function(a){return $.isWindow(a)},isNumeric:function(a){return $.isNumeric(a)},type:function(a){return $.type(a)}}),byy.extend({isIE:function(){return $.browser.msie},isOpera:function(){return $.browser.opera},isFF:function(){return $.browser.mozilla},isSafari:function(){return $.browser.safari},isMobile:function(){var a=byy.device();return!(!a.android&&!a.ios)},isIOS:function(){return byy.device().ios}}),byy.extend({getSearch:function(a,b){b||(b=a,a=location.href);var c={};if(""!=(a=a.indexOf("?")>-1?a.split("?")[1]:""))for(var d=a.split("&"),e=0;e<d.length;e++){var f=d[e],g=f.split("=")[0]||"",h=f.split("=")[1]||"";try{h=decodeURIComponent(h)}catch(a){try{h=unescape(h)}catch(a){}}c[g]=h}return b?c[b]:c},addUrlParams:function(a,b){b||(b=a,a=location.href);var c=function(a){var b="";for(var c in a){b+=c+"="+encodeURIComponent(a[c])+"&"}return b=b.substring(0,b.lastIndexOf("&"))}(b);return a=a.indexOf("?")>-1?a+"&"+c:a+"?"+c}}),byy.extend({trim:function(a){return"string"==typeof a?a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):a},formatStr:function(){var a=arguments[0],b=[].splice.call(arguments,1,arguments.length-1);return a.replace(/\{(\d+)\}/g,function(a,c){return"0"!=b[c]?b[c]||"":b[c]})}}),byy.extend({md5:function(a){var b,c,d,e,f,g,h,i,j,k=function(a,b){return a<<b|a>>>32-b},l=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},m=function(a,b,c){return a&b|~a&c},n=function(a,b,c){return a&c|b&~c},o=function(a,b,c){return a^b^c},p=function(a,b,c){return b^(a|~c)},q=function(a,b,c,d,e,f,g){return a=l(a,l(l(m(b,c,d),e),g)),l(k(a,f),b)},r=function(a,b,c,d,e,f,g){return a=l(a,l(l(n(b,c,d),e),g)),l(k(a,f),b)},s=function(a,b,c,d,e,f,g){return a=l(a,l(l(o(b,c,d),e),g)),l(k(a,f),b)},t=function(a,b,c,d,e,f,g){return a=l(a,l(l(p(b,c,d),e),g)),l(k(a,f),b)},u=function(a){var b,c,d="",e="";for(c=0;c<=3;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},v=Array();for(a=function(a){a=a.replace(/\x0d\x0a/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}(a),v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;i<c;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}(a),g=1732584193,h=4023233417,i=2562383102,j=271733878,b=0;b<v.length;b+=16)c=g,d=h,e=i,f=j,g=q(g,h,i,j,v[b+0],7,3614090360),j=q(j,g,h,i,v[b+1],12,3905402710),i=q(i,j,g,h,v[b+2],17,606105819),h=q(h,i,j,g,v[b+3],22,3250441966),g=q(g,h,i,j,v[b+4],7,4118548399),j=q(j,g,h,i,v[b+5],12,1200080426),i=q(i,j,g,h,v[b+6],17,2821735955),h=q(h,i,j,g,v[b+7],22,4249261313),g=q(g,h,i,j,v[b+8],7,1770035416),j=q(j,g,h,i,v[b+9],12,2336552879),i=q(i,j,g,h,v[b+10],17,4294925233),h=q(h,i,j,g,v[b+11],22,2304563134),g=q(g,h,i,j,v[b+12],7,1804603682),j=q(j,g,h,i,v[b+13],12,4254626195),i=q(i,j,g,h,v[b+14],17,2792965006),h=q(h,i,j,g,v[b+15],22,1236535329),g=r(g,h,i,j,v[b+1],5,4129170786),j=r(j,g,h,i,v[b+6],9,3225465664),i=r(i,j,g,h,v[b+11],14,643717713),h=r(h,i,j,g,v[b+0],20,3921069994),g=r(g,h,i,j,v[b+5],5,3593408605),j=r(j,g,h,i,v[b+10],9,38016083),i=r(i,j,g,h,v[b+15],14,3634488961),h=r(h,i,j,g,v[b+4],20,3889429448),g=r(g,h,i,j,v[b+9],5,568446438),j=r(j,g,h,i,v[b+14],9,3275163606),i=r(i,j,g,h,v[b+3],14,4107603335),h=r(h,i,j,g,v[b+8],20,1163531501),g=r(g,h,i,j,v[b+13],5,2850285829),j=r(j,g,h,i,v[b+2],9,4243563512),i=r(i,j,g,h,v[b+7],14,1735328473),h=r(h,i,j,g,v[b+12],20,2368359562),g=s(g,h,i,j,v[b+5],4,4294588738),j=s(j,g,h,i,v[b+8],11,2272392833),i=s(i,j,g,h,v[b+11],16,1839030562),h=s(h,i,j,g,v[b+14],23,4259657740),g=s(g,h,i,j,v[b+1],4,2763975236),j=s(j,g,h,i,v[b+4],11,1272893353),i=s(i,j,g,h,v[b+7],16,4139469664),h=s(h,i,j,g,v[b+10],23,3200236656),g=s(g,h,i,j,v[b+13],4,681279174),j=s(j,g,h,i,v[b+0],11,3936430074),i=s(i,j,g,h,v[b+3],16,3572445317),h=s(h,i,j,g,v[b+6],23,76029189),g=s(g,h,i,j,v[b+9],4,3654602809),j=s(j,g,h,i,v[b+12],11,3873151461),i=s(i,j,g,h,v[b+15],16,530742520),h=s(h,i,j,g,v[b+2],23,3299628645),g=t(g,h,i,j,v[b+0],6,4096336452),j=t(j,g,h,i,v[b+7],10,1126891415),i=t(i,j,g,h,v[b+14],15,2878612391),h=t(h,i,j,g,v[b+5],21,4237533241),g=t(g,h,i,j,v[b+12],6,1700485571),j=t(j,g,h,i,v[b+3],10,2399980690),i=t(i,j,g,h,v[b+10],15,4293915773),h=t(h,i,j,g,v[b+1],21,2240044497),g=t(g,h,i,j,v[b+8],6,1873313359),j=t(j,g,h,i,v[b+15],10,4264355552),i=t(i,j,g,h,v[b+6],15,2734768916),h=t(h,i,j,g,v[b+13],21,1309151649),g=t(g,h,i,j,v[b+4],6,4149444226),j=t(j,g,h,i,v[b+11],10,3174756917),i=t(i,j,g,h,v[b+2],15,718787259),h=t(h,i,j,g,v[b+9],21,3951481745),g=l(g,c),h=l(h,d),i=l(i,e),j=l(j,f);return(u(g)+u(h)+u(i)+u(j)).toLowerCase()}}),byy.extend({json:function(a,b){if(null!=a&&void 0!=a&&""!=a&&"object"!=typeof a){var c={};try{c=$.parseJSON(a)}catch(b){return{error:b,str:a}}return null!=b&&void 0!=b&&1==b&&byy.fixJson(c),c}return"object"==typeof a?a:{}},fixJson:function(a){var b={},c=function(a){if(a.hasOwnProperty("$id")){var d=a.$id;b[d]=a}if(!$.isEmptyObject(a)&&!$.isFunction(a)&&null!=a&&a&&"null"!=a)for(var e in a)a.hasOwnProperty(e)&&a[e]instanceof Object&&c(a[e])},d=function(a){if(a.hasOwnProperty("$id")&&(delete a.$id,delete a.$type),a.hasOwnProperty("$ref")){var c=a.$ref;return a=b[c]}if(!$.isEmptyObject(a)&&!$.isFunction(a))for(var e in a)a[e]instanceof Object&&(a[e]=d(a[e]));return a};c(a),d(a)},stringfy:function(a){if(null!=a&&void 0!=a){if("string"==typeof a)return a;if("number"==typeof a)return a;var b=function(a){var b=[];b.push("[");for(var d=0;d<a.length;d++){var e=a[d],f=c(e);b.push(f),d!=a.length-1&&b.push(",")}return b.push("]"),b.join("")},c=function(a){return"object"!=typeof a?"function"==typeof a?""+a.toString():'"'+a+'"':a instanceof Array?b(a):a instanceof Object?d(a):""},d=function(a){var b=[];b.push("{");for(var d in a){var e=a[d],f=c(e);b.push('"'+d+'":'+f),b.push(",")}return b.splice(b.length-1),b.push("}"),b.join("")};return c(a)}}}),byy.extend({guid:function(a){var b=0;return function(a){for(var c=(+new Date).toString(32),d=0;d<5;d++)c+=Math.floor(65535*Math.random()).toString(32);return(a||"byy_")+c+(b++).toString(32)}(a)},formatSize:function(a,b,c){var d;for(c=c||["B","KB","M","G","TB"];(d=c.shift())&&a>1024;)a/=1024;return("B"===d?a:a.toFixed(b||2))+d}}),byy.extend({findFrameByName:function(a){var b=window.top.document;if(!$)return void error("jquery未引入");var c=$(b).find("iframe");return byy.findFrameByNameOfArr(c,a,0)},frameLevel:50,findFrameByNameOfArr:function(a,b,c){if(++c==byy.frameLevel)return null;for(var d=null,e=0;e<a.length;e++){var f=a[e];if($(f).attr("name")==b){d=$(f);break}if(!(f.src&&f.src.indexOf("www.sogou.com")>-1)){var g=$($(f).get(0).contentWindow.document).find("iframe");if(g.length>0){if(null==(d=byy.findFrameByNameOfArr(g,b,c)))continue;break}}}return d},refreshFrame:function(a){var b=null;b=a?byy.findFrameByName(a):$(top.window.document).find("iframe"),null!=b?b[0]&&b[0].contentWindow.location.reload():error("刷新失败，没有查找到该frame对象，请检查name是否正确")}}),byy.extend({getPageWH:function(){var a=c.innerWidth,b=c.innerHeight;return"number"!=typeof a&&("CSSICompat"==d.compatMode?(a=d.documentElement.clientWidth,b=d.documentElement.clientHeight):(a=d.body.clientWidth,b=d.body.clientHeight)),{width:a,height:b}},getObjectLength:function(a){var b=0;for(var c in a)a.hasOwnProperty(c)&&b++;return b},fullScreen:function(){var a=d.documentElement;a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen?a.webkitRequestFullScreen():elem.msRequestFullscreen&&elem.msRequestFullscreen()},registerNameSpace:function(a,c){b[a]=c},getSpace:function(a){return b[a]},throttle:function(a,b,c,d){var e,f,g,h=+new Date,i=0,j=0,k=null,l=function(){j=h,a.apply(f,g)};return function(){h=+new Date,f=this,g=arguments,e=h-(d?i:j)-b,clearTimeout(k),d?c?k=setTimeout(l,b):e>=0&&l():e>=0?l():c&&(k=setTimeout(l,-e)),i=h}},debounce:function(a,b,c){return byy.throttle(a,b,c,!0)}}),a("util",{version:"1.0",msg:"工具类函数"})});