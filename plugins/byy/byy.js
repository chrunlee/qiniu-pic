/*
	@company 博育云
	@site : www.boyuyun.cn
	@author boyuyun
*/

"use strict";!function(a,b){!function(a,b){var c=a.location,d=!1,e=a.document,f="zh",g="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),h=function(a,b){return new h.fn.init(a,b)},i=function(b){a.console&&console.error&&console.error("byyjs hint: "+b)},j=function(){var a=e.scripts,b=a[a.length-1],c=b.querySelector?b.src:b.getAttribute("src"),d=b.getAttribute("lang")||"zh";return f=d,c.substring(0,c.lastIndexOf("/")+1)}(),k={page:"lib/page",pollify:"lib/pollify",form:"lib/form",util:"lib/util",jquery:"lib/jquery",win:"lib/win",webuploader:"lib/webuploader",validator:"lib/validator",i18n:"lib/jqueryi18n",uploader:"lib/uploader",school:"lib/school",lang:"lang/"+f+"/lang",typper:"lib/typper",template:"lib/template",autocomplete:"lib/autocomplete",moment:"lib/moment",animate:"lib/animate",slider:"lib/slider",jcrop:"lib/jcrop",cookie:"lib/cookie",treegrid:"lib/treegrid",audio:"lib/audio",laytpl:"lib/laytpl",table:"lib/table"};h.fn=h.prototype={byy:"1.4.8",constructor:h,init:function(a,c){return"string"==typeof a?(this.selector=a,this.$ele=$(a,c),this.length=this.$ele.length,this.$=this.jquery=$):a.nodeType?(this.selector=$(a).selector,this.$ele=$(a),this.length=1):a.selector!==b&&(this.selector=a.selector,this.$ele=a,this.length=a.length),this}},h.fn.init.prototype=h.fn;var l=h.cache={};l.modules={},l.status={},l.timeout=30,l.event={},h.extend=h.fn.extend=function(){var a,b=arguments[0]||{},c=arguments.length;1==c?(a=b,b=this):a=arguments[1];for(var d in a)b[d]=a[d];return b},h.fn.extend({getStyle:function(b,c){var d=b.currentStyle?b.currentStyle:a.getComputedStyle(b,null);return d[d.getPropertyValue?"getPropertyValue":"getAttribute"](c)},config:function(a){a=a||{};for(var b in a)l[b]=a[b];return this},onevent:function(a,b,c){return"string"!=typeof a||"function"!=typeof c?this:h.event(a,b,null,c)}}),h.extend({version:"1.4.8",basePath:j,byylang:f,error:i,onevent:function(a,b,c){return"string"!=typeof a||"function"!=typeof c?this:h.event(a,b,null,c)},test:function(){console.log("enter byy tool method")},setRequire:function(a){return this.requireDir=a.basePath,this.requireModules=this.extend(this.requireModules,a.modules),this},device:function(){var b=navigator.userAgent.toLowerCase(),c={os:function(){var a="ipad"==b.match(/ipad/i),c="iphone os"==b.match(/iphone os/i),d="midp"==b.match(/midp/i),e="rv:1.2.3.4"==b.match(/rv:1.2.3.4/i),f="ucweb"==b.match(/ucweb/i),g="android"==b.match(/android/i),h="windows ce"==b.match(/windows ce/i),i="windows mobile"==b.match(/windows mobile/i),j="linux"==b.match(/linux/i);return a||c?"ios":d||e||f||g||h||i?"android":j?"linux":"windows"}(),ie:function(){return!!(a.ActiveXObject||"ActiveXObject"in a)&&((b.match(/msie\s(\d+)/)||[])[1]||"11")}(),ff:function(){return b.indexOf("firefox")>-1}(),safari:function(){return b.indexOf("safari")>-1&&-1==b.indexOf("chrome")}(),chrome:function(){return b.indexOf("chrome")>-1&&b.indexOf("safari")>-1}(),opera:function(){return b.indexOf("opera")>-1}(),weixin:function(a){var c=new RegExp(a+"/([^\\s\\_\\-]+)");return(a=(b.match(c)||[])[1])||!1}("micromessenger")};return c.android="android"===c.os,c.ios="ios"===c.os,c},modules:function(){var a={};for(var b in k)a[b]=k[b];return a}(),define:function(a,b){var c=this,d="function"==typeof a,e=function(){return"function"==typeof b&&b(function(a,b){h[a]=b,l.status[a]=!0}),this};return d&&(b=a,a=[]),h.all?e.call(c):(c.require(a,e,null,!0),c)},require:function(a,b,f,m){function n(a,b){var c="PLaySTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/;("load"===a.type||c.test((a.currentTarget||a.srcElement).readyState))&&(l.modules[s]=b,r.removeChild(u),function a(){if(++t>1e3*l.timeout/4)return i(s+" is not a valid module");l.status[s]?o():setTimeout(a,4)}())}function o(){f.push(h[s]),a.length>1?p.require(a.slice(1),b,f,m):"function"==typeof b&&b.apply(h,f)}if(!d&&!m)return void setTimeout(function(){h.require(a,b,f,m)},5);var p=this,q=l.dir=l.dir?l.dir:j,r=e.getElementsByTagName("head")[0];a="string"==typeof a?[a]:a,window.jQuery&&jQuery.fn.on&&p.each(a,function(b,c){"jquery"===c&&a.splice(b,1)});var s=a[0],t=0;if(f=f||[],l.host=l.host||(q.match(/\/\/([\s\S]+?)\//)||["//"+c.host+"/"])[0],0===a.length||h.all&&k[s])return"function"==typeof b&&b.apply(h,f),p;var u=e.createElement("script"),v=(k[s]?q+"":p.requireDir||l.base||"")+(p.modules[s]||p.requireModules[s]||s)+".js";return u.async=!0,u.charset="utf-8",u.src=v+function(){var a=!0===l.version?l.v||(new Date).getTime():l.version||"";return a?"?v="+a:""}(),l.modules[s]?function a(){if(++t>1e3*l.timeout/4)return i(s+" is not a valid module");"string"==typeof l.modules[s]&&l.status[s]?o():setTimeout(a,4)}():(r.appendChild(u),!u.attachEvent||u.attachEvent.toString&&u.attachEvent.toString().indexOf("[native code")<0||g?u.addEventListener("load",function(a){n(a,v)},!1):u.attachEvent("onreadystatechange",function(a){n(a,v)})),l.modules[s]=v,p},stope:function(b){b=b||a.event,b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},each:function(a,b){var c,d=this;if("function"!=typeof b)return d;if(a=a||[],a.constructor===Object){for(c in a)if(b.call(a[c],c,a[c]))break}else for(c=0;c<a.length&&!b.call(a[c],c,a[c]);c++);return d},getStyle:function(b,c){var d=b.currentStyle?b.currentStyle:a.getComputedStyle(b,null);return d[d.getPropertyValue?"getPropertyValue":"getAttribute"](c)},link:function(a,b,c){var d=this,f=e.createElement("link"),g=e.getElementsByTagName("head")[0];"string"==typeof b&&(c=b);var h=(c||a).replace(/\.|\//g,""),j=f.id="byycss-"+h,k=0;f.rel="stylesheet",f.type="text/css",f.href=a+(l.debug?"?v="+(new Date).getTime():""),f.media="all",e.getElementById(j)||g.appendChild(f),"function"==typeof b&&function c(){if(++k>1e3*l.timeout/100)return i(a+" timeout");1989===parseInt(d.getStyle(e.getElementById(j),"width"))?function(){b()}():setTimeout(c,100)}()},addcss:function(a,b,c){h.link(l.dir+"css/"+a,b,c)}}),h.fn.event=h.event=function(a,b,c,d){var e=this,f=null,g=b.match(/\((.*)\)$/)||[],i=(a+"."+b).replace(g[0],""),j=g[1]||"",k=function(a,b){!1===(b&&b.call(e,c))&&null===f&&(f=!1)};return d?(l.event[i]=l.event[i]||{},l.event[i][j]=[d],this):(h.each(l.event[i],function(a,b){if("{*}"===j)return void h.each(b,k);""===a&&h.each(b,k),a===j&&h.each(b,k)}),f)},h.sort=h.prototype.sort=function(a,b,c){var d=JSON.parse(JSON.stringify(a||[]));return b?(d.sort(function(a,c){var d=/^-?\d+$/,e=a[b],f=c[b];return d.test(e)&&(e=parseFloat(e)),d.test(f)&&(f=parseFloat(f)),e&&!f?1:!e&&f?-1:e>f?1:e<f?-1:0}),c&&d.reverse(),d):d},h.require(["lang","pollify","util","form"],function(){d=!0,h.initUI()},null,!0),window.b=window.byy=h}(a)}("undefined"!=typeof window?window:this);